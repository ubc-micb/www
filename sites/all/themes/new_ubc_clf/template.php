<?php

// Enable the use of page--[content-type].tpl.php as theme hook suggestions
function new_ubc_clf_preprocess_page(&$vars, $hook) {
  if (isset($vars['node']->type)) {
  // If the node type is "blog" the template suggestion will be "page--blog.tpl.php".
   $vars['theme_hook_suggestions'][] = 'page__'. str_replace('_', '--', $vars['node']->type);
  }
}

// Print the title of the current page to the end of the breadcrumbs
function new_ubc_clf_breadcrumb($variables) {
  $breadcrumb = $variables['breadcrumb'];
  if (!empty($breadcrumb)) {
    // Adding the title of the current page to the breadcrumb.
    $breadcrumb[] = drupal_get_title();
   
    // Provide a navigational heading to give context for breadcrumb links to
    // screen-reader users. Make the heading invisible with .element-invisible.
    $output = '<h2 class="element-invisible">' . t('You are here') . '</h2>';

    $output .= '<div class="breadcrumb">' . implode(' Â» ', $breadcrumb) . '</div>';
    return $output;
  }
}
